<%= turbo_frame_tag "me_bio", data: { turbo_cache_control: "no-cache" } do %>
    <p class="font-normal text-lg mt-2">
        <div x-data="{ editing: false }">
            <div x-show="!editing" @click="editing = true; $nextTick(() => { $refs.input.focus(); });" class="flex flex-row justify-start items-center space-x-1 flex-nowrap cursor-pointer group">
                <div class="text-gray-500 underline decoration-dotted decoration-gray-300 decoration-2"><%= text %></div>
                <div class="text-gray-300 h-5 w-5 block">
                    <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M883.626667 300.373333c16.64-16.64 16.64-44.373333 0-60.16l-99.84-99.84c-15.786667-16.64-43.52-16.64-60.16 0l-78.506667 78.08 160 160M128 736V896h160L759.893333 423.68l-160-160L128 736z" fill="currentColor" /></svg>
                </div>
            </div>
            <div x-show="editing" class="inline-flex flex-row items-center rounded-md border shadow-sm border-gray-400 p-0 pr-1">
                <%= form_with url: me_bio_update_path, class: "flex flex-row items-center space-x-1" do |form| %>
                    <input type="text" x-ref="input" name="bio" class="border-none outline-none bg-transparent px-2 py-1 focus:outline-none focus:ring-transparent" value="<%= h(text) %>" />
                    <button type="submit" class="text-lime-600 h-6 w-6" @click="editing = false">
                        <svg xmlns="https://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="12" fill="currentColor" />
                            <path d="M7 12l4 4l6 -8" fill="none" stroke-linejoin="round" stroke-width="4" stroke-linecap="round" stroke="white" />
                        </svg>
                    </button>
                    <button class="h-6 w-6 text-red-600" @click="editing = false">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="12" fill="currentColor" />
                            <path d="M7 7l10 10" fill="none" stroke-linejoin="round" stroke-width="4" stroke-linecap="round" stroke="white" />
                            <path d="M17 7l-10 10" fill="none" stroke-linejoin="round" stroke-width="4" stroke-linecap="round" stroke="white" />
                        </svg>
                    </button>
                <% end %>
            </div>
        </div>
    </p>
<% end %>